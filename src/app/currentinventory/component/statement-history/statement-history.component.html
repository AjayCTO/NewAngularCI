<ng-container *ngIf="StatementHistory!=undefined&&item!=undefined&&CustomFields!=undefined&&
    InventoryTransactionObj!=undefined">
    <div class="action action--move" [ngClass]="{'action--is-active': StatementHistory}">
        <button *ngIf="StatementHistory"
            class="icons__item icons__item--theme01 icons__item--clone icons__item--is-active"
            style="background: #ffffff;width: 100%!important;">
            <div class="icons__icon"><svg class="icon icon--theme01 icon--menu" aria-labelledby="title-5fc88a569608b"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                    <path fill="none" d="M0 0h48v48H0z"></path>
                    <circle cx="8" cy="24" r="6" fill="currentColor" class="icon__color--primary"></circle>
                    <circle cx="8" cy="10" r="4" fill="currentColor" class="icon__color--secondary"></circle>
                    <circle cx="8" cy="38" r="4" fill="currentColor" class="icon__color--secondary"></circle>
                    <rect x="16.4" y="6" width="31" height="8" rx="4" fill="currentColor"
                        class="icon__color--secondary">
                    </rect>
                    <rect x="16.4" y="34" width="31" height="8" rx="4" fill="currentColor"
                        class="icon__color--secondary">
                    </rect>
                    <rect x="16.4" y="18" width="31" height="12" rx="6" fill="currentColor"
                        class="icon__color--primary">
                    </rect>
                </svg></div>
            <span class="icons__label">Statement History</span>
        </button>
        <ng-container *ngIf="loadingRecords">
            <div class="loaderCard">
                <div class="loader"></div>
                <h3>Please Wait...</h3>
            </div>
        </ng-container>
        <form class="action__wrap history--form">
            <div class="form_section" *ngFor="let item of statementHistory; let fst = first;">
                <div class="form__col-wrap">
                    <div class="form__col form__col--one">
                        <div class="">
                            <div class="icons__item--theme11">
                                <ng-container *ngIf="item.actionIcon==1">


                                    <ng-container *ngTemplateOutlet="addIcon">
                                    </ng-container>



                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==2">
                                    <ng-container *ngTemplateOutlet="removeIcon">
                                    </ng-container>

                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==3">

                                    <ng-container *ngTemplateOutlet="moveIcon">
                                    </ng-container>

                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==4">
                                    <ng-container *ngTemplateOutlet="adjustIcon">
                                    </ng-container>


                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==5">


                                    <ng-container *ngTemplateOutlet="statusIcon">
                                    </ng-container>


                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==8">

                                    <ng-container *ngTemplateOutlet="convertIcon">
                                    </ng-container>


                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==7">

                                    <ng-container *ngTemplateOutlet="movechangeIcon">
                                    </ng-container>

                                </ng-container>
                                <ng-container *ngIf="item.actionIcon==6">
                                    <ng-container *ngTemplateOutlet="changeIcon">
                                    </ng-container>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="form__col form__col--nine">
                        <h3 [style.color]="item.actionColor"><b>{{item.action}}</b> <span
                                *ngIf="item.qty_IN_or_OUT!=null"> -
                                {{item.qty_IN_or_OUT}}</span>
                            &nbsp;
                            <ng-container *ngIf="fst">
                                <a style="margin-left: 5px;" (click)="UndoTransaction(item)"
                                    class="button button--small">Undo</a>
                            </ng-container>
                        </h3>

                        <div style="display: flex;">
                            <h5>{{item.transactionDate|date}}</h5>
                            <h5>Updated Quantity: {{item.transactionQtyChange}}</h5>
                            <h5>Running Quantity: {{item.transactionQuantity}}</h5>
                        </div>
                        <div style="display: flex;">
                            <ng-container *ngFor="let itemcustomfield of item.customFields">
                                <h6
                                    *ngIf="itemcustomfield.columnValue!=''&& itemcustomfield.columnValue!='Invalid Date'">
                                    <strong><b>{{itemcustomfield.columnLabel}}</b>
                                    </strong> : {{itemcustomfield.columnValue}}
                                </h6>

                            </ng-container>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</ng-container>


<ng-template #addIcon>
    <div class="icons__item icons__item--theme02">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--add" aria-labelledby="title-602e34ed70cc2"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="none" d="M0 0h48v48H0z"></path>
                <path d="M28 36v12h-8V28a8 8 0 00-8-8 16 16 0 0116 16z" fill="currentColor"
                    class="icon__color--primary">
                </path>
                <path d="M20 28H0v-8h12a8 8 0 018 8z" fill="currentColor" class="icon__color--secondary"></path>
                <path d="M20 12V0h8v20a8 8 0 008 8 16 16 0 01-16-16z" fill="currentColor" class="icon__color--primary">
                </path>
                <path d="M28 20h20v8H36a8 8 0 01-8-8z" fill="currentColor" class="icon__color--secondary"></path>
            </svg></div>
    </div>
</ng-template>

<ng-template #removeIcon>
    <div class="icons__item icons__item--theme03">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--remove" aria-labelledby="title-602e2d746228e"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="none" d="M0 0h48v48H0z"></path>
                <path d="M12.7 18.3L4.2 9.9l5.7-5.7L24 18.3a7.9 7.9 0 0011.3 0 15.9 15.9 0 01-22.6 0z"
                    fill="currentColor" class="icon__color--primary"></path>
                <path class="icon__color--secondary" d="M24 18.3L38.1 4.2l5.7 5.7-8.5 8.4a7.9 7.9 0 01-11.3 0z"
                    fill="currentColor"></path>
                <path class="icon__color--primary"
                    d="M35.3 28.9l8.5 8.5-5.7 5.6L24 28.9a8 8 0 00-11.3 0 15.9 15.9 0 0122.6 0z" fill="currentColor">
                </path>
                <path class="icon__color--secondary" d="M24 28.9L9.9 43l-5.7-5.6 8.5-8.5a8 8 0 0111.3 0z"
                    fill="currentColor">
                </path>
            </svg></div>
    </div>
</ng-template>

<ng-template #moveIcon>
    <div class="icons__item icons__item--theme04">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--move" aria-labelledby="title-602e34ed70cdc"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path d="M48 48V0H0v48z" fill="none"></path>
                <path
                    d="M43.9 21.8l-8-8a6 6 0 011.3 6.5 5.7 5.7 0 01-3 3.1 5.1 5.1 0 01-2.5.6H4v8h35.7a6 6 0 004.2-10.2z"
                    fill="currentColor" class="icon__color--primary"></path>
                <path d="M35.9 13.8l-8.4-8.4-5.6 5.6 12.3 12.4a5.7 5.7 0 003-3.1 6 6 0 00-1.3-6.5z" fill="currentColor"
                    class="icon__color--secondary"></path>
            </svg></div>
    </div>
</ng-template>


<ng-template #changeIcon>
    <div class="icons__item icons__item--theme05">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--change" aria-labelledby="title-602e34ed70ce5"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="none" d="M48 0v48H0V0z"></path>
                <path d="M0 48h48V0H0z" fill="none"></path>
                <path d="M22 18V4H10a6 6 0 00-6 6v28a6 6 0 006 6h12V30l6-6z" fill="currentColor"
                    class="icon__color--primary">
                </path>
                <path d="M38 38a6 6 0 01-6 6h-6v-6zm0-28a6 6 0 00-6-6h-6v6z" fill="currentColor"
                    class="icon__color--secondary">
                </path>
                <path d="M38 4h-6a6 6 0 016 6v28a6 6 0 01-6 6h6a6 6 0 006-6V10a6 6 0 00-6-6z" fill="currentColor"
                    class="icon__color--primary"></path>
            </svg></div>
    </div>
</ng-template>

<ng-template #movechangeIcon>
    <div class="icons__item icons__item--theme06">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--move-change" aria-labelledby="title-602e34ed70cee"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="none" d="M0 0h48v48H0z"></path>
                <path d="M7 28h15v20H7a3 3 0 01-3-3V31a3 3 0 013-3z" fill="currentColor" class="icon__color--primary">
                </path>
                <path d="M38 42a6 6 0 01-6 6h-6v-6zm0-8H26v-6h6a6 6 0 016 6z" fill="currentColor"
                    class="icon__color--secondary"></path>
                <path
                    d="M38 28h-6a6 6 0 016 6v8a6 6 0 01-6 6h6a6 6 0 006-6v-8a6 6 0 00-6-6zm3.9-14.2l-8-8a6 6 0 011.3 6.5 5.7 5.7 0 01-3 3.1 5.1 5.1 0 01-2.5.6H4v8h33.7a6 6 0 004.2-10.2z"
                    fill="currentColor" class="icon__color--primary"></path>
                <path d="M33.9 5.8l-4.1-4.2-5.7 5.7 8.1 8.1a5.7 5.7 0 003-3.1 6 6 0 00-1.3-6.5z" fill="currentColor"
                    class="icon__color--secondary"></path>
            </svg></div>
    </div>
</ng-template>
<ng-template #adjustIcon>
    <div class="icons__item icons__item--theme07">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--adjust" aria-labelledby="title-602e34ed70dbd"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="currentColor" class="icon__color--primary" d="M6 36h36v8H6z"></path>
                <path d="M12 23.2a8 8 0 00-2.1 7.7 7.9 7.9 0 007.7-2 8.1 8.1 0 002.1-7.8 8 8 0 00-7.7 2.1z"
                    fill="currentColor" class="icon__color--secondary"></path>
                <path d="M17.6 17.6L12 23.2l5.6 5.7a8 8 0 010-11.3z" fill="currentColor" class="icon__color--secondary">
                </path>
                <path
                    d="M28.9 6.2L17.6 17.6a8 8 0 000 11.3l17-17zm5.075-3.486l4.242 4.243a1 1 0 010 1.414l-2.121 2.122-5.657-5.657 2.122-2.122a1 1 0 011.414 0z"
                    fill="currentColor" class="icon__color--primary"></path>
                <path fill="none" d="M48 0v48H0V0z"></path>
                <path d="M0 48h48V0H0z" fill="none"></path>
            </svg></div>
    </div>
</ng-template>

<ng-template #statusIcon>
    <div class="icons__item icons__item--theme08">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--status" aria-labelledby="title-602e34ed70dc9"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="none" d="M48 0v48H0V0z"></path>
                <path d="M48 0H0v48h48z" fill="none"></path>
                <rect x="21" y="28" width="6" height="6" rx="1.5" transform="rotate(-180 24 31)" fill="currentColor"
                    class="icon__color--secondary"></rect>
                <path
                    d="M28 6v6.7a22.8 22.8 0 01-.2 2.6L26.3 24a2.3 2.3 0 01-2.3 2 2.3 2.3 0 01-2.3-2l-1.5-8.7a22.8 22.8 0 01-.2-2.6V6a2 2 0 012-2h4a2 2 0 012 2z"
                    fill="currentColor" class="icon__color--secondary"></path>
                <path d="M10 38V4H4v34a6 6 0 006 6h6a6 6 0 01-6-6zM38 4h6v28a6 6 0 01-6 6z" fill="currentColor"
                    class="icon__color--primary"></path>
                <path d="M44 32v6a6 6 0 01-6 6H16a6 6 0 01-6-6h28a6 6 0 006-6z" fill="currentColor"
                    class="icon__color--secondary"></path>
            </svg></div>
    </div>
</ng-template>

<ng-template #convertIcon>
    <div class="icons__item icons__item--theme09">
        <div class="icons__icon"><svg class="icon icon--theme01 icon--convert" aria-labelledby="title-602e34ed70dd2"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">
                <path fill="none" d="M48 0v48H0V0z"></path>
                <circle cx="24" cy="36.1" r="7.4" fill="currentColor" class="icon__color--primary"></circle>
                <circle cx="40.6" cy="11.4" r="4.9" fill="currentColor" class="icon__color--secondary"></circle>
                <circle cx="7.4" cy="11.4" r="4.9" fill="currentColor" class="icon__color--secondary"></circle>
                <circle cx="24" cy="18.8" r="4.9" fill="currentColor" class="icon__color--secondary"></circle>
            </svg></div>
    </div>
</ng-template>


<div *ngIf="comfirmBoxDelete">
    <div class="modal">
        <div id="DeleteConfirm">
            <div class="Modal__head">
                <h3 class="invModal__title">Are you sure you want to Undo this Event?</h3>
            </div>
            <div class="Modal__body">
                <p class="invModal__title">Click "Confirm" to undo this statement. Once undone, this Event will be
                    removed
                    and cannot be restored.</p>
            </div>
            <div class="Modal__footer">
                <div class="button-group">
                    <button type="submit" class="button button--medium" (click)="Confirm()"
                        id="confirmBtn">Confirm</button>
                    <button type="button" (click)="close()" class="button button--medium button--text-only">Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>