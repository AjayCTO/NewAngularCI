<div class="actions">
    <div class="actions__title">
        <h1> <b> Image Gallery </b> </h1>
    </div>
</div>


<div class="taskbar">
    <div class="taskbar__col">
        <button type="button" data-modal="#UploadActivity"
            class="button button--medium button--icon button--theme02 js-modal">
            Upload Images
        </button>
        <form class="form form--search">
            <div class="form__section">
                <div class="form__col-wrap">
                    <div class="form__col">
                        <label for="search" class="form__label form__label--hidden">Search</label>
                        <input class="form__input form__input--search" [(ngModel)]="searchFilterText" type="search"
                            id="search" name="search" (change)=" GetAllImage()" autocomplete="off" placeholder="Search">
                        <button type="button" class="form__clear form__icon icons__item icons__item--theme03 js-clear"
                            data-field-to-clear="#search" (click)="RemoveSearchFilter()">
                            <div class="icons__icon"><svg class="icon icon--theme01 icon--remove"
                                    aria-labelledby="title-5f7cca8a45299" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 48 48" width="48" height="48">
                                    <path fill="none" d="M0 0h48v48H0z"></path>
                                    <path
                                        d="M12.7 18.3L4.2 9.9l5.7-5.7L24 18.3a7.9 7.9 0 0011.3 0 15.9 15.9 0 01-22.6 0z"
                                        fill="currentColor" class="icon__color--primary"></path>
                                    <path class="icon__color--secondary"
                                        d="M24 18.3L38.1 4.2l5.7 5.7-8.5 8.4a7.9 7.9 0 01-11.3 0z" fill="currentColor">
                                    </path>
                                    <path class="icon__color--primary"
                                        d="M35.3 28.9l8.5 8.5-5.7 5.6L24 28.9a8 8 0 00-11.3 0 15.9 15.9 0 0122.6 0z"
                                        fill="currentColor"></path>
                                    <path class="icon__color--secondary"
                                        d="M24 28.9L9.9 43l-5.7-5.6 8.5-8.5a8 8 0 0111.3 0z" fill="currentColor">
                                    </path>
                                </svg></div>
                        </button>
                        <button type="button" class="form__submit form__icon icons__item">
                            <div class="icons__icon"><svg class="icon icon--theme01 icon--search"
                                    aria-labelledby="title-5f7cca8a452b7" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 48 48" width="48" height="48">
                                    <path fill="none" d="M0 0h48v48H0z"></path>
                                    <path
                                        d="M31.9 27.7l9.9 9.9a3.1 3.1 0 010 4.2 3 3 0 01-4.3 0L27.4 31.7a6 6 0 00-4.6-1.7 8.3 8.3 0 004.8-2.3 3 3 0 014.3 0z"
                                        fill="currentColor" class="icon__color--secondary"></path>
                                    <path
                                        d="M27.7 9.2a14 14 0 018.1 10.9 2.9 2.9 0 01-3.3 3.3 3 3 0 01-2.6-2.6 7.8 7.8 0 00-3.6-5.5 8 8 0 00-8.4-.2 8.1 8.1 0 00-1.6 12.6 7.9 7.9 0 006.3 2.3h.2a6 6 0 014.6 1.7l2.1 2.1-.6.4a14.5 14.5 0 01-11.7 1A14.1 14.1 0 0114.7 10a14.2 14.2 0 0113-.8z"
                                        fill="currentColor" class="icon__color--primary"></path>
                                </svg></div>
                        </button>
                    </div>
                </div>
            </div>

        </form> &nbsp;&nbsp;&nbsp;
    </div>
</div>

<div>
    <form class="form" #f="ngForm">
        <div class="form__col-wrap">
            <div class="form__col">
                <label class="form__label form_label" for="dynamic_item-name"> select product Name<span
                        class="form__required">*</span></label>
                <ng-autocomplete [data]="data" [searchKeyword]="keyword" (selected)='selectEvent($event)'
                    [isLoading]="isLoadingResult" (inputChanged)='getServerResponse($event)' [debounceTime]="600"
                    [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate" disableCloseOnSelect="true"
                    type="text" id="dynamic_item-name" name="item-name" style="width: 250px;">
                </ng-autocomplete> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <ng-template #itemTemplate let-item>
                    <a [innerHTML]="item.partName"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                    <a [innerHTML]="notFound"></a>
                </ng-template>
            </div>
            <div class="Actions" *ngIf="selectitem" style="margin-top: -20px;">
                <p>You Have Selected <a style="font-weight: bold;">{{partNames}}</a> Now You Can Choose Images To Assign
                    To
                    <a style="font-weight: bold;"> {{partNames}} </a>
                </p>
            </div>
        </div>
    </form>

</div>

<section class="main">
    <div class="pagination" style="margin-left: 400px;">
        <div class="icons icons--size01 icons--horziontal">
            <a (click)="gotoFirstPage()" class="icons__item icons__item--theme09">
                <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--first"
                        aria-labelledby="title-5fd3434a6bd1c" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                        width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"></path>
                        <path fill="currentColor" d="M2 3h4v18H2zm6 7.6v2.8l11.4 8.7 2.4-3.2-9-6.9 9-6.9-2.4-3.2z">
                        </path>
                    </svg></div>
            </a>
            <a class="icons__item icons__item--theme09" (click)="gotoBack()">
                <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--previous"
                        aria-labelledby="title-5fd3434a6bd55" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                        width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"></path>
                        <path d="M2.2 12l13.2 10.1 2.4-3.2-9-6.9 9-6.9-2.4-3.2z" fill="currentColor">
                        </path>
                    </svg></div>
            </a>
        </div>
        <span class="footer__statements">Statements
            {{pageIndex*pageSize}}-{{(pageIndex+1)*(pageSize>length?length:pageSize)}}</span>
        <div class="icons icons--size01 icons--horziontal">
            <a class="icons__item icons__item--theme09" (click)="gotoNext()">
                <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--next"
                        aria-labelledby="title-5fd3434a6bd64" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                        width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"></path>
                        <path d="M8.6 1.9L6.2 5.1l9 6.9-9 6.9 2.4 3.2L21.8 12z" fill="currentColor">
                        </path>
                    </svg></div>
            </a>
            <a class="icons__item icons__item--theme09" (click)="gotoLastPage()">
                <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--last"
                        aria-labelledby="title-5fd3434a6bd71" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                        width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"></path>
                        <path fill="currentColor" d="M18 3h4v18h-4zM4.6 1.9L2.2 5.1l9 6.9-9 6.9 2.4 3.2L16 13.4v-2.8z">
                        </path>
                    </svg></div>
            </a>
        </div>
        <span class="footer__total">of {{length}}</span>
    </div>
    <div class="form__section">
        <div class="AssignImgPage">


            <button type="button" *ngIf="selectitem" [ngClass]="imagesId.length==0?'hidden':''" (click)="AssignImages()"
                class="button button--medium" id="image2">Assign
                Image</button>

        </div>


        <ng-container>
            <div class="form__col-wrap">
                <div class="form__col form__col--five" *ngFor="let item of allImages" style="padding: 0 14px;">
                    <div class="UploadImageCard">
                        <div class="card-header">
                            <div class="form__group form__group--checkbox">
                                <input id="checkbox2_{{item.imageId}}" (click)="CheckImageSelect(item.imageId)"
                                    class="form__checkbox" type="checkbox" name="checkbox2_{{item.imageId}}">
                                <label class="form__group-label" for="checkbox2_{{item.imageId}}"></label>
                            </div>
                        </div>
                        <div class="card-body">
                            <img style=" height: 362px !important; object-fit: contain;"
                                src="https://clearly2020storage.blob.core.windows.net:443/images/{{item.imageFriendlyName}}">
                        </div>
                        <div class="card-footer">

                            <p [popper]="popper12Content" [popperTrigger]="'hover'" [popperPlacement]="'bottom'">
                                {{(item.imageOrginalName.length>5)? (item.imageOrginalName |
                                slice:0:20)+'...':(item.imageOrginalName)}}</p>
                            <popper-content #popper12Content>
                                <h3 class="popperTitle"><b>{{item.imageOrginalName}}</b></h3>
                            </popper-content>
                        </div>
                    </div>
                </div>
                <div class="form__col form__col--five" style="padding: 0 14px;"></div>
                <div class="form__col form__col--five" style="padding: 0 14px;"></div>
            </div>
        </ng-container>
    </div>
</section>
<div id="UploadActivity" class="invModal" role="dialog" aria-labelledby="dialog-title"
    aria-describedby="dialog-description" tabindex="-1" hidden="">
    <div class="invModal__head">
        <h1 class="invModal__title">Upload an Image</h1>

    </div>
    <div class="invModal__body">
        <h1>Please select an Image from your computer.</h1>
        <div class="form__section">
            <div class="form__col-wrap">
                <div class="card icons icons--horziontal icons--size01">
                    <div class="form__col form__col--Six" *ngFor="let item of listOfFiles;let index = index"
                        style="width: 120px; margin-left: 20px;">
                        <div class="SelectImageCard">
                            <div class="cardbodyaction">
                                <div (click)="RemoveImageName(index)">
                                    <svg class="icon-simple icon-simple--theme01 icon-simple--remove"
                                        aria-labelledby="title-5f7cbab264ccf" xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 24 24" width="18" height="18">
                                        <path fill="none" d="M0 0h24v24H0z"></path>
                                        <path fill="currentColor" d="M4.929 2.071l16.97 16.97-2.828 2.83L2.101 4.898z">
                                        </path>
                                        <path fill="currentColor"
                                            d="M21.929 4.929l-16.97 16.97-2.83-2.828 16.972-16.97z">
                                        </path>
                                    </svg>
                                </div>
                            </div>
                            <div class="card-body">
                                <img class="image" [src]="item">
                            </div>
                            <!-- <div class="card-footer">
                                <p>{{item.imageOrginalName}}</p>
                            </div> -->
                        </div>
                    </div>




                    <!-- <button type="button" *ngFor="let item of listOfFiles;let index = index"
                        class="icons__item icons__item--contains-text icons__item--theme07"
                        style="height: 45px;border-radius: 100px;">
                        <div class="icons__text" style="display: flex;align-items: center;">
                            <strong class="icons__name"> <img style="width: 30px !important;" [src]="item">
                            </strong>
                            &nbsp;&nbsp; -->
                    <!-- <strong class="icons__name" *ngFor="let selectFile of selectedFiles"
                                                    style="font-size: 16px;">
                                                    {{selectFile.name}}
                                                </strong> -->
                    <!-- &nbsp;&nbsp;
                            <div class="" (click)="RemoveImageName(index)">
                                <svg class="icon-simple icon-simple--theme01 icon-simple--remove"
                                    aria-labelledby="title-5f7cbab264ccf" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24" width="18" height="18">
                                    <path fill="none" d="M0 0h24v24H0z"></path>
                                    <path fill="currentColor" d="M4.929 2.071l16.97 16.97-2.828 2.83L2.101 4.898z">
                                    </path>
                                    <path fill="currentColor" d="M21.929 4.929l-16.97 16.97-2.83-2.828 16.972-16.97z">
                                    </path>
                                </svg>
                            </div>
                        </div> -->
                    <!-- </button>&nbsp;&nbsp;&nbsp; -->
                </div>
                <div class="fileinput fileinput-new" data-provides="fileinput">
                    <span class="fileinput-filename"></span>
                    <br>
                    <input #UploadImage hidden type="file" accept="image/*" multiple (change)="selectFiles($event)" />
                    <img *ngFor='let imgURL of images' [src]="imgURL" height="200">
                    <input type="hidden" value name="fileToUpload">
                </div>
            </div>
        </div>
        <div class="form__section">
            <div class="form__col-wrap">
                <button (click)="triggerFalseClick()" type="button" class="button button--medium">Select
                    File</button>
            </div>
        </div>

    </div>


    <div class="invModal__footer">

        <div class="button-group">
            <button *ngIf="listOfFiles.length>0" type="button" (click)="uploadFiles()"
                class="button button--medium button--theme02">Upload</button>
            <button [ngClass]="listOfFiles.length==0?'hidden':''" type="button" (click)="cancel()" id="uploadModelClose"
                class="button button--medium button--text-only" data-close="#UploadActivity">Cancel
            </button>
        </div>
    </div>

</div>
<ngx-spinner></ngx-spinner>
<!-- </div> -->
<!-- </div> -->