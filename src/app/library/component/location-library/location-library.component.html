<ng-container *ngIf="!NotPermitted">
    <div class="actions">
        <div class="actions__title">
            <h1><b> {{tenantConfiguration.locationTermCustomized}} Library</b> </h1>

        </div>
        <div class="actions__wrap">
            <div (click)="exportAsXLSX()" class="icons__item">
                <div class="icons__icon"><svg class="icon icon--theme01 icon--download"
                        aria-labelledby="title-5f7c9ac573e4a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"
                        width="48" height="48">
                        <path
                            d="M42.2 37.8A5.8 5.8 0 0038 36H10a6 6 0 00-6 6 5.6 5.6 0 001.8 4.2A5.6 5.6 0 0010 48h28a6 6 0 006-6 5.6 5.6 0 00-1.8-4.2zM38 45a3 3 0 113-3 2.9 2.9 0 01-3 3z"
                            fill="currentColor" class="icon__color--primary"></path>
                        <path d="M0 48h48V0H0z" fill="none"></path>
                        <path d="M29 23.9a8 8 0 006.3-3h.1l8.8-11.6-6.3-4.9-4 5.2-9.7 12.6a7.6 7.6 0 004.8 1.7z"
                            fill="currentColor" class="icon__color--secondary"></path>
                        <path
                            d="M17.6 27.3L3.8 9.3l6.3-4.9 12.6 16.4a6.7 6.7 0 001.5 1.4 7.6 7.6 0 004.8 1.7 8 8 0 006.3-3l-5 6.4a8 8 0 01-12.7 0z"
                            fill="currentColor" class="icon__color--primary"></path>
                    </svg></div>
                <span class="icons__label">Download</span>
            </div>



        </div>
    </div>

    <div class="taskbar">
        <div class="taskbar__col" style="margin-right: 10px;">
            <button [disabled]="Features.isLockLocationLibrary==true" type="button" data-modal="#AddLocationinnerModal"
                class="button button--medium button--icon button--theme02 js-modal">
                <svg class="icon-simple icon-simple--theme01 icon-simple--add" aria-labelledby="title-5f86742813ab3"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path fill="currentColor" d="M0 10h24v4H0z"></path>
                    <path fill="currentColor" d="M14 0v24h-4V0z"></path>
                </svg> &nbsp; Add New {{tenantConfiguration.locationTermCustomized}}
            </button>
        </div>
        <app-location-modal (RefreshLocation)="GetLocation()"></app-location-modal>
        <div class="taskbar__col">
            <button *ngIf="Features.isLockLocationLibrary==false" type="button" (click)="LockConfirm()"
                class="button button--medium button--icon button--theme02 js-modal">
                <svg aria-labelledby="title-6073f50bc4e35" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 8.081 11.544">
                    <g data-name="Group 3641">
                        <path data-name="Path 1713"
                            d="M6.926 4.617V2.886a2.886 2.886 0 10-5.771 0v1.731A1.242 1.242 0 00.001 5.772v4.617a1.241 1.241 0 001.154 1.155h5.771a1.241 1.241 0 001.155-1.155V5.772a1.242 1.242 0 00-1.155-1.155zm-1.153 0H2.309V2.886a1.732 1.732 0 113.464 0z"
                            fill="#abb3bb"></path>
                    </g>
                </svg> &nbsp; Lock the Library
            </button>
            <button *ngIf="Features.isLockLocationLibrary==true" type="button" (click)="Unlock()"
                class="button button--medium button--icon button--theme02 js-modal">
                <svg aria-labelledby="title-6073f50bc4e35" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 8.081 11.544">
                    <g data-name="Group 3641">
                        <path data-name="Path 1713"
                            d="M6.926 4.617V2.886a2.886 2.886 0 10-5.771 0v1.731A1.242 1.242 0 00.001 5.772v4.617a1.241 1.241 0 001.154 1.155h5.771a1.241 1.241 0 001.155-1.155V5.772a1.242 1.242 0 00-1.155-1.155zm-1.153 0H2.309V2.886a1.732 1.732 0 113.464 0z"
                            fill="#abb3bb"></path>
                    </g>
                </svg> &nbsp; Unlock the Library
            </button>
        </div>
    </div>


    <section class="main">

        <div class="pagination">
            <div class="icons icons--size02 icons--horziontal">
                <a class="icons__item icons__item--theme09" (click)="gotoFirstPage()">
                    <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--first"
                            aria-labelledby="title-5f8080f1a0466" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            width="24" height="24">
                            <path fill="none" d="M0 0h24v24H0z"></path>
                            <path fill="currentColor" d="M2 3h4v18H2zm6 7.6v2.8l11.4 8.7 2.4-3.2-9-6.9 9-6.9-2.4-3.2z">
                            </path>
                        </svg></div>
                </a>
                <a class="icons__item icons__item--theme09" (click)="gotoBack()">
                    <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--previous"
                            aria-labelledby="title-5f8080f1a0482" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            width="24" height="24">
                            <path fill="none" d="M0 0h24v24H0z"></path>
                            <path d="M2.2 12l13.2 10.1 2.4-3.2-9-6.9 9-6.9-2.4-3.2z" fill="currentColor"></path>
                        </svg></div>
                </a>
            </div>
            <span class="footer__statements">Statements
                {{pageIndex*pageSize}}-{{(pageIndex+1)*(pageSize>length?length:pageSize)}}</span>
            <div class="icons icons--size02 icons--horziontal">
                <a class="icons__item icons__item--theme09" (click)="gotoNext()">
                    <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--next"
                            aria-labelledby="title-5f8080f1a0490" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            width="24" height="24">
                            <path fill="none" d="M0 0h24v24H0z"></path>
                            <path d="M8.6 1.9L6.2 5.1l9 6.9-9 6.9 2.4 3.2L21.8 12z" fill="currentColor"></path>
                        </svg></div>
                </a>
                <a class="icons__item icons__item--theme09" (click)="gotoLastPage()">
                    <div class="icons__icon"><svg class="icon-simple icon-simple--theme01 icon-simple--last"
                            aria-labelledby="title-5f8080f1a049c" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            width="24" height="24">
                            <path fill="none" d="M0 0h24v24H0z"></path>
                            <path fill="currentColor"
                                d="M18 3h4v18h-4zM4.6 1.9L2.2 5.1l9 6.9-9 6.9 2.4 3.2L16 13.4v-2.8z">
                            </path>
                        </svg></div>
                </a>
            </div>
            <span class="footer__total">of {{length}}</span>
        </div>



        <div class="table">
            <table class="table__table">
                <thead class="table__section table__section--head">
                    <tr class="table__row table__row--head">

                        <th scope="col" class="table__heading">
                            <div class="table__heading-title">{{tenantConfiguration.locationTermCustomized}} Name</div>
                            <div class="table__heading-options">
                                <div class="icons icons--horziontal icons--size02">
                                    <button class="icons__item" type="button">
                                        <div class="icons__icon"><svg class="icon icon--theme01 icon--filter"
                                                aria-labelledby="title-5f83f48269fe1" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 48 48" width="48" height="48">
                                                <path fill="none" d="M0 0h48v48H0z"></path>
                                                <path
                                                    d="M40 13.7a5.6 5.6 0 01-1.7 4 5.5 5.5 0 01-4 1.6 5.8 5.8 0 01-4-1.7 5.4 5.4 0 00-4-1.6h-8.6a3.9 3.9 0 00-3.7 2.5 3.8 3.8 0 00.8 4.3l-4.5-4.5A7.9 7.9 0 018 12.7 4.7 4.7 0 0112.7 8h21.6a5.7 5.7 0 013.6 1.3.8.8 0 01.4.4 5.3 5.3 0 011.7 4z"
                                                    fill="currentColor" class="icon__color--primary"></path>
                                                <path
                                                    d="M28 28v12h-8V29.7a4 4 0 00-1.2-2.9l-4-4a3.8 3.8 0 01-.8-4.3 3.9 3.9 0 013.7-2.5h1.6l3.3 3.2 3.1 3.2A7.9 7.9 0 0128 28z"
                                                    fill="currentColor" class="icon__color--secondary"></path>
                                            </svg></div>
                                    </button>
                                </div>
                            </div>
                        </th>
                        <th scope="col" class="table__heading">
                            <div class="table__heading-title">Description</div>
                            <div class="table__heading-options">
                                <div class="icons icons--horziontal icons--size02">
                                    <button class="icons__item" type="button">
                                        <div class="icons__icon"><svg class="icon icon--theme01 icon--filter"
                                                aria-labelledby="title-5f83f48269fe1" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 48 48" width="48" height="48">
                                                <path fill="none" d="M0 0h48v48H0z"></path>
                                                <path
                                                    d="M40 13.7a5.6 5.6 0 01-1.7 4 5.5 5.5 0 01-4 1.6 5.8 5.8 0 01-4-1.7 5.4 5.4 0 00-4-1.6h-8.6a3.9 3.9 0 00-3.7 2.5 3.8 3.8 0 00.8 4.3l-4.5-4.5A7.9 7.9 0 018 12.7 4.7 4.7 0 0112.7 8h21.6a5.7 5.7 0 013.6 1.3.8.8 0 01.4.4 5.3 5.3 0 011.7 4z"
                                                    fill="currentColor" class="icon__color--primary"></path>
                                                <path
                                                    d="M28 28v12h-8V29.7a4 4 0 00-1.2-2.9l-4-4a3.8 3.8 0 01-.8-4.3 3.9 3.9 0 013.7-2.5h1.6l3.3 3.2 3.1 3.2A7.9 7.9 0 0128 28z"
                                                    fill="currentColor" class="icon__color--secondary"></path>
                                            </svg></div>
                                    </button>
                                </div>
                            </div>
                        </th>
                        <th scope="col" class="table__heading">
                            <div class="table__heading-title">{{tenantConfiguration.locationTermCustomized}} Group</div>
                            <div class="table__heading-options">
                                <div class="icons icons--horziontal icons--size02">
                                    <button class="icons__item" type="button">
                                        <div class="icons__icon"><svg class="icon icon--theme01 icon--filter"
                                                aria-labelledby="title-5f83f48269fe1" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 48 48" width="48" height="48">
                                                <path fill="none" d="M0 0h48v48H0z"></path>
                                                <path
                                                    d="M40 13.7a5.6 5.6 0 01-1.7 4 5.5 5.5 0 01-4 1.6 5.8 5.8 0 01-4-1.7 5.4 5.4 0 00-4-1.6h-8.6a3.9 3.9 0 00-3.7 2.5 3.8 3.8 0 00.8 4.3l-4.5-4.5A7.9 7.9 0 018 12.7 4.7 4.7 0 0112.7 8h21.6a5.7 5.7 0 013.6 1.3.8.8 0 01.4.4 5.3 5.3 0 011.7 4z"
                                                    fill="currentColor" class="icon__color--primary"></path>
                                                <path
                                                    d="M28 28v12h-8V29.7a4 4 0 00-1.2-2.9l-4-4a3.8 3.8 0 01-.8-4.3 3.9 3.9 0 013.7-2.5h1.6l3.3 3.2 3.1 3.2A7.9 7.9 0 0128 28z"
                                                    fill="currentColor" class="icon__color--secondary"></path>
                                            </svg></div>
                                    </button>
                                </div>
                            </div>
                        </th>
                        <th scope="col" class="table__heading">
                            <div class="table__heading-title">Action</div>
                            <div class="table__heading-options">
                                <div class="icons icons--horziontal icons--size02">
                                    <button class="icons__item" type="button">
                                        <div class="icons__icon">&nbsp;</div>
                                    </button>
                                </div>
                            </div>
                        </th>
                    </tr>
                </thead>

                <tbody class="table__section table__section--body">
                    <ng-container *ngIf="loadingRecords">
                        <div class="loaderCard">
                            <div class="loader"></div>
                            <h3>Please Wait...</h3>
                        </div>

                    </ng-container>

                    <ng-container *ngFor="let item of locations">


                        <tr class="table__row table__row--body"
                            [ngClass]="{'table__row--is-active':item.isActive==true}">



                            <td class="table__cell" data-title="Column Title">
                                {{item.locationName}}
                            </td>
                            <td class="table__cell" data-title="Column Title">
                                {{item.description}}
                            </td>

                            <td class="table__cell" data-title="Column Title">
                                {{item.locationZone}}
                            </td>
                            <td class="table__cell" data-title="Column Title">
                                <div class="icons icons--size02">
                                    <button [disabled]="Features.isLockLocationLibrary==true" style="cursor: pointer;"
                                        class="icons__item icons__item--theme07" (click)="OpenMenu(item)" type="button">
                                        <div class="icons__icon"><svg class="icon icon--theme01 icon--adjust"
                                                aria-labelledby="title-5f83f4826a17f" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 48 48" width="48" height="48">
                                                <path fill="currentColor" class="icon__color--primary"
                                                    d="M6 36h36v8H6z">
                                                </path>
                                                <path
                                                    d="M12 23.2a8 8 0 00-2.1 7.7 7.9 7.9 0 007.7-2 8.1 8.1 0 002.1-7.8 8 8 0 00-7.7 2.1z"
                                                    fill="currentColor" class="icon__color--secondary"></path>
                                                <path d="M17.6 17.6L12 23.2l5.6 5.7a8 8 0 010-11.3z" fill="currentColor"
                                                    class="icon__color--secondary">
                                                </path>
                                                <path
                                                    d="M28.9 6.2L17.6 17.6a8 8 0 000 11.3l17-17zm5.075-3.486l4.242 4.243a1 1 0 010 1.414l-2.121 2.122-5.657-5.657 2.122-2.122a1 1 0 011.414 0z"
                                                    fill="currentColor" class="icon__color--primary"></path>
                                                <path fill="none" d="M48 0v48H0V0z"></path>
                                                <path d="M0 48h48V0H0z" fill="none"></path>
                                            </svg></div>
                                        <span class="icons__label">Edit</span>
                                    </button>
                                    <button [disabled]="Features.isLockLocationLibrary==true" style="cursor: pointer;"
                                        class="icons__item icons__item--theme03" (click)="DeleteConfirm(item)">
                                        <div class="icons__icon">
                                            <svg class="icon icon--theme01 icon-simple--trash"
                                                aria-labelledby="title-5f84133e656c0" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 24 24" width="24" height="24">
                                                <path fill="none" d="M0 0h24v24H0z"></path>
                                                <path fill="currentColor"
                                                    d="M18.3 18l-.4 3H6.1l-.4-3h12.6zM4.541 2.927l15.863 2.088-.391 2.975L4.15 5.9z"
                                                    class="icon__color--primary">
                                                </path>
                                                <path fill="currentColor"
                                                    d="M10.734 1.738l3.96.52-.26 1.98-3.96-.52zM16.3 10h3l-1 8-.4 3h-3l.4-3 1-8zM9.1 21h-3l-.4-3-1.1-8h3.1l1 8 .4 3z">
                                                </path>
                                            </svg>
                                        </div>
                                        <span class="icons__label">Remove</span>
                                    </button>
                                </div>
                            </td>

                        </tr>
                        <tr class="table__row table__row--action"
                            [ngClass]="{'table__row--is-active':item.isActive==true}">
                            <td class="table__cell">
                                <div class="table__action" [ngClass]="{'libraryexpand':item.isActive}">
                                    <div class="table__button-group icons icons--size02">
                                        <div class="action action--move-change"
                                            [ngClass]="{'libraryexpand':item.isActive}">


                                            <div class="form__col">
                                                <label class="form__label"
                                                    for="locationNameEditForm_{{item.locationId}}">New
                                                    Location<span class="form__required">*</span></label>
                                                <input class="form__input" type="text"
                                                    id="locationNameEditForm_{{item.locationId}}"
                                                    name="locationNameEditForm_{{item.locationId}}"
                                                    [(ngModel)]="locationsform.locationName" required>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </td>

                            <td class="table__cell">
                                <div class="table__action" [ngClass]="{'libraryexpand':item.isActive}">
                                    <div class="table__button-group icons icons--size02">
                                        <div class="action action--move-change"
                                            [ngClass]="{'libraryexpand':item.isActive}">


                                            <div class="form__col">
                                                <label class="form__label"
                                                    for="descriptionEditForm_{{item.locationId}}">Description</label>
                                                <input class="form__input" type="text"
                                                    id="descriptionEditForm_{{item.locationId}}"
                                                    name="descriptionEditForm_{{item.locationId}}"
                                                    [(ngModel)]="locationsform.description">
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </td>

                            <td class="table__cell" data-title="Column Title">

                                <div class="table__action" [ngClass]="{'libraryexpand':item.isActive}">
                                    <div class="table__button-group icons icons--size02">
                                        <div class="action action--move-change"
                                            [ngClass]="{'libraryexpand':item.isActive}">

                                            <form class="form" (ngSubmit)="onSubmit()">
                                                <div class="form__section">
                                                    <div class="form__col-wrap">
                                                        <div class="form__col">
                                                            <label class="form__label"
                                                                for="locationZoneEditForm_{{item.locationId}}">Location
                                                                Group</label>
                                                            <input class="form__input" type="text"
                                                                id="locationZoneEditForm_{{item.locationId}}"
                                                                name="locationZoneEditForm_{{item.locationId}}"
                                                                [(ngModel)]="locationsform.locationZone">
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </td>

                            <td class="table__cell">
                                <div class="table__action" [ngClass]="{'libraryexpand':item.isActive}">
                                    <div class="table__button-group icons icons--size02">
                                        <div class="action action--move-change"
                                            [ngClass]="{'libraryexpand':item.isActive}">

                                            <div class="icons icons--size02">
                                                <button style="cursor: pointer;"
                                                    class="icons__item icons__item--theme02" type="button"
                                                    (click)="onSubmit()" data-action="" data-parent=".table__row"
                                                    data-parent-class="table__row--is-active"
                                                    data-html-class="event-menu-is-active">
                                                    <div class="icons__item">
                                                        <div class="icons__icon"><svg
                                                                class="icon icon--theme02 icon--selected"
                                                                aria-labelledby="title-5f880d5b17609"
                                                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"
                                                                width="48" height="48">
                                                                <path
                                                                    d="M46.6 12.7l-16.9 17a8.1 8.1 0 01-11.4 0L12.7 24A8 8 0 0024 24L41 7z"
                                                                    fill="currentColor" class="icon__color--primary">
                                                                </path>
                                                                <path d="M24 24a8 8 0 01-11.3 0l-2.8-2.8 5.6-5.7z"
                                                                    fill="currentColor" class="icon__color--secondary">
                                                                </path>
                                                            </svg></div>
                                                        <span class="icons__label">Update</span>
                                                    </div>
                                                </button>
                                                <button style="cursor: pointer;"
                                                    class="icons__item icons__item--theme03" (click)="CloseMenu(item)"
                                                    type="button">
                                                    <div class="icons__item">
                                                        <div class="icons__icon"><svg
                                                                class="icon icon--theme01 icon--remove"
                                                                aria-labelledby="title-5f880d5b173dc"
                                                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"
                                                                width="48" height="48">
                                                                <path fill="none" d="M0 0h48v48H0z"></path>
                                                                <path
                                                                    d="M12.7 18.3L4.2 9.9l5.7-5.7L24 18.3a7.9 7.9 0 0011.3 0 15.9 15.9 0 01-22.6 0z"
                                                                    fill="currentColor" class="icon__color--primary">
                                                                </path>
                                                                <path class="icon__color--secondary"
                                                                    d="M24 18.3L38.1 4.2l5.7 5.7-8.5 8.4a7.9 7.9 0 01-11.3 0z"
                                                                    fill="currentColor"></path>
                                                                <path class="icon__color--primary"
                                                                    d="M35.3 28.9l8.5 8.5-5.7 5.6L24 28.9a8 8 0 00-11.3 0 15.9 15.9 0 0122.6 0z"
                                                                    fill="currentColor"></path>
                                                                <path class="icon__color--secondary"
                                                                    d="M24 28.9L9.9 43l-5.7-5.6 8.5-8.5a8 8 0 0111.3 0z"
                                                                    fill="currentColor"></path>
                                                            </svg></div>
                                                        <span class="icons__label">Cancel</span>
                                                    </div>
                                                </button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </ng-container>
                </tbody>
            </table>
        </div>

    </section>
</ng-container>


<app-delete-confirmation *ngIf="deleteLocation" (deleteLocation)="deleteField()" (hideClose)="deleteValue($event)">
</app-delete-confirmation>
<app-lock-confirmation *ngIf="lockLocation" (lockLocation)="saveConfigration($event)" (hideClose)="CancleLock($event)">
</app-lock-confirmation>
<ngx-spinner></ngx-spinner>